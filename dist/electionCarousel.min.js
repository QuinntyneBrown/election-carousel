angular.module("election-carousel",["ui.router"]).config(["$stateProvider",function(e){ElectionCarousel.States.configure(e)}]);var ElectionCarousel;!function(e){"use strict";var t=function(){function e(){}return e.configure=function(e){e.state("default-empty",{url:"",templateUrl:"src/app/views/ridings.html",resolve:{ridings:["$q","riding","ridingDataService",function(e,t,n){var r=e.defer();return n.getAll().then(function(e){for(var n=[],i=0;i<e.length;i++)n.push(t.createInstance({data:e[i]}));r.resolve(n)}),r.promise}]},controller:"ridingsController",controllerAs:"vm"}),e.state("default",{url:"",templateUrl:"src/app/views/ridings.html",resolve:{ridings:["$q","riding","ridingDataService",function(e,t,n){var r=e.defer();return n.getAll().then(function(e){for(var n=[],i=0;i<e.length;i++)n.push(t.createInstance({data:e[i]}));r.resolve(n)}),r.promise}]},controller:"ridingsController",controllerAs:"vm"})},e}();e.States=t}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){"use strict";var t=function(){function e(e){this.ridings=e}return e}();e.RidingsController=t,angular.module("election-carousel").controller("ridingsController",[t])}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){"use strict";var t=function(){function e(){this.createInstance=function(t){var n=new e;return n}}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalVotes",{get:function(){return this._totalVotes},set:function(e){this._totalVotes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"riding",{get:function(){return this._riding},set:function(e){this._riding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"party",{get:function(){return this._party},set:function(e){this._party},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percentageOfTotalVotes",{get:function(){return this.totalVotes/this.riding.totalVotes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWinner",{get:function(){return this.riding.winningCandidate.name==this.name},enumerable:!0,configurable:!0}),e}();e.Candidate=t,angular.module("election-carousel").service("candidate",[t])}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){"use strict";var t=function(){function e(t){var n=this;this.candidate=t,this.createInstance=function(t){var r=new e(n.candidate);r.id=t.data.id,r.displayName=t.data.name;for(var i=0;i<t.data.results.length;i++){r.totalVotes=r.totalVotes+t.data.results[i].votes;var o=n.candidate.createInstance({riding:r,data:t.data.results[i]});n.candidates.push(o),t.data.results[i].isElected&&(n.winningCandidate=o)}return r},this._candidates=[],this._totalVotes=0}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayName",{get:function(){return this._displayName},set:function(e){this._displayName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"candidates",{get:function(){return this._candidates},set:function(e){this._candidates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalVotes",{get:function(){return this._totalVotes},set:function(e){this._totalVotes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"winningCandidate",{get:function(){return this._winningCandidate},set:function(e){this._winningCandidate},enumerable:!0,configurable:!0}),e}();e.Riding=t,angular.module("election-carousel").service("riding",["candidate",t])}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){"use strict";var t=function(){function e(e,t){var n=this;this.$http=e,this.$q=t,this.getAll=function(){var e=n.$q.defer();return jQuery.ajax({type:"GET",url:"http://static.globalnews.ca/content/test/results-2011.js",jsonpCallback:"gNews_getRidingDetailsCallback",dataType:"jsonp",success:function(t){e.resolve(t)}}),e.promise}}return e}();e.RidingsDataService=t,angular.module("election-carousel").service("ridingDataService",["$http","$q",t])}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){var t;!function(e){var t=function(){function e(){this.restrict="E",this.replace=!0,this.templateUrl="src/app/directives/appFooter/appFooter.html",this.link=function(e,t,n){}}return e.createInstance=function(){return new e},e}();e.AppFooter=t}(t=e.Directives||(e.Directives={}))}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){var t;!function(e){var t=function(){function e(){this.restrict="E",this.replace=!0,this.templateUrl="src/app/directives/appHeader/appHeader.html",this.link=function(e,t,n){}}return e.createInstance=function(){return new e},e}();e.AppHeader=t}(t=e.Directives||(e.Directives={}))}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){var t;!function(e){var t=function(){function e(){this.restrict="E",this.replace=!0,this.templateUrl="src/app/directives/riding/riding.html",this.link=function(e,t,n){}}return e.createInstance=function(){return new e},e}();e.Riding=t}(t=e.Directives||(e.Directives={}))}(ElectionCarousel||(ElectionCarousel={}));