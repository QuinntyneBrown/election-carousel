angular.module("election-carousel",["ui.router"]).config(["$stateProvider",function(e){ElectionCarousel.States.configure(e)}]);var ElectionCarousel;!function(e){"use strict";var t=function(){function e(){}return e.configure=function(e){e.state("default-empty",{url:"",templateUrl:"src/app/views/ridings.html",resolve:{ridings:["$q","riding","ridingDataService",function(e,t,n){var r=e.defer();return n.getAll().then(function(e){for(var n=[],i=0;i<e.length;i++)n.push(t.createInstance({data:e[i]}));r.resolve(n)}),r.promise}]},controller:"ridingsController",controllerAs:"vm"}),e.state("default",{url:"",templateUrl:"src/app/views/ridings.html",resolve:{ridings:["$q","riding","ridingDataService",function(e,t,n){var r=e.defer();return n.getAll().then(function(e){for(var n=[],i=0;i<e.length;i++)n.push(t.createInstance({data:e[i]}));r.resolve(n)}),r.promise}]},controller:"ridingsController",controllerAs:"vm"})},e}();e.States=t}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){"use strict";var t=function(){function e(e){this.ridings=e}return e}();e.RidingsController=t,angular.module("election-carousel").controller("ridingsController",["ridings",t])}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){"use strict";var t=function(){function e(t,n){var r=this;this.$filter=t,this.$injector=n,this.createInstance=function(t){var n=new e(r.$filter,r.$injector);return n.party=r.$injector.get("party").createInstance({partyCode:t.data.partyCode}),n.name=t.data.name,n.votes=t.data.votes,n.riding=t.riding,n}}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstName",{get:function(){return this.name.split(" ")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastName",{get:function(){for(var e=this.name.split(" "),t=[],n=1;n<e.length;n++)t.push(e[n]);return t.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"votes",{get:function(){return this._votes},set:function(e){this._votes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percentageOfTotalVotes",{get:function(){var e=this._votes/this.riding.totalVotes,t=this.$filter("number")(e,3);return 100*t+"%"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"riding",{get:function(){return this._riding},set:function(e){this._riding=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"party",{get:function(){return this._party},set:function(e){this._party=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWinner",{get:function(){return this.riding.winningCandidate.name==this.name},enumerable:!0,configurable:!0}),e}();e.Candidate=t,angular.module("election-carousel").service("candidate",["$filter","$injector",t])}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){"use strict";var t=function(){function e(){this.createInstance=function(t){var n=new e;return n.partyCode=t.partyCode,n.id=t.id,n}}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorCode",{get:function(){return"NDP"==this.partyCode?"#ED5C27":"PC"==this.partyCode?"#0C499C":"LIB"==this.partyCode?"#D71923":"GRN"==this.partyCode?"#4C9F45":"#DDD"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"partyCode",{get:function(){return this._partyCode},set:function(e){this._partyCode=e},enumerable:!0,configurable:!0}),e}();e.Party=t,angular.module("election-carousel").service("party",[t])}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){"use strict";var t=function(){function e(t){var n=this;this.candidate=t,this.createInstance=function(t){var r=new e(n.candidate);r.id=t.data.id,r.name=t.data.name;for(var i=0;i<t.data.results.length;i++){r.totalVotes=r.totalVotes+t.data.results[i].votes;var o=n.candidate.createInstance({riding:r,data:t.data.results[i]}),a=r.candidates;a.push(o),r.candidates=a,t.data.results[i].isElected&&(r.winningCandidate=o)}return r},this._candidates=[],this._totalVotes=0}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"candidates",{get:function(){return this._candidates},set:function(e){this._candidates=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalVotes",{get:function(){return this._totalVotes},set:function(e){this._totalVotes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"winningCandidate",{get:function(){return this._winningCandidate},set:function(e){this._winningCandidate=e},enumerable:!0,configurable:!0}),e}();e.Riding=t,angular.module("election-carousel").service("riding",["candidate",t])}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){"use strict";var t=function(){function e(e,t){var n=this;this.$http=e,this.$q=t,this.getAll=function(){var e=n.$q.defer();return jQuery.ajax({type:"GET",url:"http://static.globalnews.ca/content/test/results-2011.js",jsonpCallback:"gNews_getRidingDetailsCallback",dataType:"jsonp",success:function(t){e.resolve(t)}}),e.promise}}return e}();e.RidingsDataService=t,angular.module("election-carousel").service("ridingDataService",["$http","$q",t])}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){var t;!function(e){var t=function(){function e(){this.restrict="E",this.replace=!0,this.templateUrl="src/app/directives/appHeader/appHeader.html",this.link=function(e,t,n){}}return e.createInstance=function(){return new e},e}();e.AppHeader=t}(t=e.Directives||(e.Directives={}))}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){var t;!function(e){var t=function(){function e(){this.restrict="E",this.replace=!0,this.templateUrl="src/app/directives/appFooter/appFooter.html",this.link=function(e,t,n){}}return e.createInstance=function(){return new e},e}();e.AppFooter=t}(t=e.Directives||(e.Directives={}))}(ElectionCarousel||(ElectionCarousel={}));var ElectionCarousel;!function(e){var t;!function(e){var t=function(){function e(){this.restrict="E",this.replace=!0,this.templateUrl="src/app/directives/riding/riding.html",this.link=function(e,t,n){}}return e.createInstance=function(){return new e},e}();e.Riding=t}(t=e.Directives||(e.Directives={}))}(ElectionCarousel||(ElectionCarousel={}));